<div id="inventario" v-cloak>
  <h1>Inventario</h1>
  <div class="row">
    <div class="col-6">
      <div class="form-group">
        <div class="input-group">
          <div class="input-group-prepend">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Filtro</button>
            <div class="dropdown-menu p-4">
                <form>
                    <div class="form-group">
                        <label for="busquedaPorID">ID: </label>
                        <input type="text" class="form-control" id="idArt" placeholder="ID del Articulo:">
                    </div>
                    <div class="form-group">
                        <label for="busquedaPorNombre">Nombre: </label>
                        <input type="text" class="form-control" id="nombreArt" placeholder="Nombre del Articulo:">
                    </div>
                    <button type="button" class="btn btn-warning">Buscar</button>
                </form>
            </div>
          </div>
        
          <input type="text" name="buscarArticulo" id="articulo" placeholder="Search" list="listaArticulos" class="form-control">
          <datalist id="listaArticulos">
              <div v-for="art in modeloI.articulos">
                <option v-bind:value="art.nombre">
              </div>
          </datalist>
        <div class="input-group-append">
          <span class="input-group-text"><i class="fa fa-search"></i></span>
        </div>
      </div>
    </div>
  </div>
  </div>
  <div class="row">
    <div class="col">
        <table class="table table-striped table-hover table-condensed">
            <thead class="thead-dark">
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Tamaño</th>
                    <th>Cantidad</th>
                    <th>Descripcion</th>
                    <th>Precio</th>
                    <th>Estado</th>
                    <th>Actualizar</th>
                    <th>Eliminar</th>
                  </tr>
            </thead>
            <tbody>
                <tr v-for="art in modeloI.articulos">
                  <td v-text="art.id"></td>
                  <td v-text="art.nombre"></td>
                  <td v-text="art.tamano"></td>
                  <td v-text="art.cantidad"></td>
                  <td v-text="art.descripcion"></td>
                  <td v-text="art.precio"></td>
                  <td v-text="art.estado"></td>
                  <td><button type="button" class="btn btn-sm btn-warning btn-block" @click="verArticulo(art)">Actualizar</button></td>
                  <td><button type="button" class="btn btn-sm btn-danger btn-block"data-toggle="modal" data-target="#ModalBorrar">Eliminar</button></td>
                </tr>
              </tbody>
        </table>
        <button type="button" class="btn btn-sm btn-primary btn-block boton boton1" @click="verModalAgr()">Agregar</button>
    </div>
  </div>
    <!--Modal de agregar-->
    <modal v-if="verModalAgregar" id="agregarArticulo">
      <div class="modal-dialog">
        <!-- Contenido del modal-->
        <div class="modal-content">
          <div class="model-header" background="blue">
            <button type="button" class="close" @click="cerrarNuevo">X</button>
            <h4 class="modal-title">Agregando Articulo al Inventario</h4>
          </div>
          <div class="modal-body">
            <form v-on:submit.prevent="crearArticulo">
                <div class="form-group">
                    <label for="id">ID: </label>
                    <input type="text" class="form-control" id="idArtNuevo" v-model="articuloNuevo.id" placeholder="ID del Articulo">
                </div>
                <div class="form-group">
                    <label for="nombre">Nombre: </label>
                    <input type="text" class="form-control" id="nombreArtNuevo" v-model="articuloNuevo.nombre" placeholder="Nombre del Articulo">
                </div>
                <div class="form-group">
                    <label for="tamaño">Tamaño: </label>
                    <input type="text" class="form-control" id="tamañoArtNuevo" v-model="articuloNuevo.tamano" placeholder="Tamaño del Articulo">
                </div>
                <div class="form-group">
                    <label for="cantidad">Cantidad: </label>
                    <input type="text" class="form-control" id="cantidadArtNuevo" v-model="articuloNuevo.cantidad" placeholder="Cantidad del Articulo">
                </div>
                <div class="form-group">
                    <label for="precio">Precio: </label>
                    <input type="text" class="form-control" id="precioArtNuevo" v-model="articuloNuevo.precio" placeholder="Precio del Articulo" required>
                </div>
                <div class="form-group">
                    <label for="descripcion">Descripcion: </label>
                    <textarea required class="form-control" id="descripcionArtNuevo" rows="3" cols="10" maxlength="180" v-model="articuloNuevo.descripcion" placeholder="Descripcion del Articulo" > </textarea>
                </div>
                <div class="form-group">
                    <label for="estado">Estado: </label>
                    <select v-model="articuloNuevo.estado" required>
                      <option>Disponible</option>
                      <option>Ocupado</option>
                      <option>Dañado</option>
                    </select>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="submit" class="btn btn-primary" @click="crearArticulo(articuloNuevo)">Agregar</button>
            <button type="button" class="btn btn-danger" @click="cerrarNuevo">Cancelar</button>
          </div>
        </div>
      </div>
    </modal><!--Fin del modal agregar-->
    <!-- Modal de borrar articulo-->
    <div class="modal fade" id="ModalBorrar" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
              <h6 class="modal-title" id="AdvertenciaBorrado">¿Está seguro que desea borrar este Articulo?</h6>
            </div>
            <div class="modal-body">
              <!-- Aqui va el contenido del modal -->
              <p class="text-center">Despues de ejecutar este evento no abra marcha atras</p>
              <div class="row">
                <div class="col-lg-4 my-3">
                  <div class="pull-right">
                      <button class="btn btn-primary" type="button" id="Aceptar" data-dismiss="modal">
                        Aceptar
                      </button>
                  </div>
                </div>
                <div class="col-lg-6 my-3">
                    <div class="pull-right">
                        <button class="btn btn-danger" type="button" id="Borrar" data-dismiss="modal">
                          Cancelar
                        </button>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div> <!--Aca termina el modal de eliminar-->
      <!--Aca inicia el modal de actualizar-->
      <modal v-if="verModalA" id="verArticulo">
          <div class="modal-dialog">
            <!-- Contenido del modal-->
            <div class="modal-content">
              <div class="model-header" background="blue">
                <button type="button" class="close" @click="cerrarEvento">X</button>
                <h4 class="modal-title">Actualizar Articulo del Inventario</h4>
              </div>
              <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="nombre">Nombre: </label>
                        <input type="text" class="form-control" id="nombreArtNuevo" :value="articulo.nombre">
                    </div>
                    <div class="form-group">
                        <label for="tamaño">Tamaño: </label>
                        <input type="text" class="form-control" id="tamañoArtNuevo" :value="articulo.tamano">
                    </div>
                    <div class="form-group">
                        <label for="cantidad">Cantidad: </label>
                        <input type="text" class="form-control" id="cantidadArtNuevo" :value="articulo.cantidad">
                    </div>
                    <div class="form-group">
                        <label for="precio">Precio: </label>
                        <input type="text" class="form-control" id="precioArtNuevo" :value="articulo.precio">
                    </div>
                    <div class="form-group">
                        <label for="descripcion">Descripcion: </label>
                        <textarea class="form-control" id="descripcionArtNuevo" rows="3" cols="10" maxlength="180" :value="articulo.descripcion" > </textarea>
                    </div>
                    <div class="form-group">
                        <label for="estado">Estado: </label>
                        <select>
                          <option>Disponible</option>
                          <option>Ocupado</option>
                          <option>Dañado</option>
                        </select>
                    </div>
                </form>
              </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-primary">Actualizar</button>
                <button type="button" class="btn btn-danger" @click="cerrarEvento">Cancelar</button>
              </div>
            </div>
          </div>
        </modal>
</div>

<%- /* Expose server-rendered data as window.SAILS_LOCALS :: */ exposeLocalsToBrowser() %>
